{"version":3,"sources":["comps/Map.jsx","comps/App.jsx","index.jsx"],"names":["Map","map","Leaf","center","this","props","lat","long","zoom","tileLayer","maxZoom","minZoom","attribution","id","addTo","iSS","icon","iconUrl","iconSize","myISS","marker","setInterval","latlng","latLng","setLatLng","style","height","width","minWidth","textAlign","Component","App","state","velocity","altitude","country","handleIss","bind","handleCountry","fetch","getCountry","json","undefined","countryData","address","setState","setTimeout","response","data","latitude","longitude","toFixed","countrycode","className","ReactDOM","render","document","querySelector"],"mappings":"8SAyDeA,G,MArDf,4LACuB,IAAD,OACdC,EAAMC,IAAKD,IAAI,MAAO,CACxBE,OAAQ,CAACC,KAAKC,MAAMC,IAAKF,KAAKC,MAAME,MACpCC,KAAM,IAGRN,IAAKO,UACH,iKACA,CACEC,QAAS,EACTC,QAAS,EACTC,YACE,gNAGFC,GAAI,mBAENC,MAAMb,GAER,IAAIc,EAAMb,IAAKc,KAAK,CAClBC,QACE,sFACFC,SAAU,CAAC,IAAK,OAGdC,EAAQjB,IAAKkB,OAAO,CAAChB,KAAKC,MAAMC,IAAKF,KAAKC,MAAME,MAAO,CACzDS,KAAMD,IACLD,MAAMb,GAEToB,YAAY,WACV,IAAIC,EAASpB,IAAKqB,OAAO,EAAKlB,MAAMC,IAAK,EAAKD,MAAME,MACpDY,EAAMK,UAAUF,IACf,OAjCP,+BAqCI,OACE,6BACE,yBACET,GAAG,MACHY,MAAO,CACLC,OAAQ,OACRC,MAAO,OACPC,SAAU,QACVC,UAAW,iBA7CvB,GAAyBC,cC0FVC,G,MAxFf,YACE,aAAe,IAAD,8BACZ,+CAKFC,MAAQ,CACN1B,IAAK,KACLC,KAAM,KACN0B,SAAU,KACVC,SAAU,KACVC,QAAS,MATT,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBAHT,EADhB,oNAgB6BE,MAAM,oEAAD,OAE1BnC,KAAK4B,MAAM1B,IAFe,gBAGpBF,KAAK4B,MAAMzB,KAHS,kCAhBlC,cAgBUiC,EAhBV,gBAsB4BA,EAAWC,OAtBvC,YAwBgCC,KAFxBC,EAtBR,QAwBoBC,QACdxC,KAAKyC,SAAS,CAAEV,QAASQ,EAAYC,QAAQT,UAE7C/B,KAAKyC,SAAS,CAAEV,QAAS,OAG3BW,WAAW,WACT,EAAKR,iBACJ,KAhCP,6QAoC2BC,MACrB,kDArCN,cAoCUQ,EApCV,gBAuCqBA,EAASN,OAvC9B,OAuCQO,EAvCR,OAyCI5C,KAAKyC,SAAS,CACZvC,IAAK0C,EAAKC,SACV1C,KAAMyC,EAAKE,UACXjB,SAAUe,EAAKf,SAASkB,QAAQ,GAChCjB,SAAUc,EAAKd,SAASiB,QAAQ,KAIlCL,WAAW,WACT,EAAKV,aACJ,KAnDP,8IAuDIhC,KAAKgC,YACLhC,KAAKkC,kBAxDT,+BA4DI,IAAIc,EAAc,GAOlB,OALEA,EADyB,OAAvBhD,KAAK4B,MAAMG,QACC,sDAEA,+CAAqB/B,KAAK4B,MAAMG,QAAhC,KAGO,OAAnB/B,KAAK4B,MAAM1B,KAAoC,OAApBF,KAAK4B,MAAMzB,KACjC,uDAGL,yBAAK8C,UAAU,aACb,qFACA,yBAAKA,UAAU,WACb,6CACA,wCAAcjD,KAAK4B,MAAM1B,IAAzB,KACA,yCAAeF,KAAK4B,MAAMzB,KAA1B,KACA,wCAAcH,KAAK4B,MAAME,SAAzB,QACA,wCAAc9B,KAAK4B,MAAMC,SAAzB,UACCmB,GAEH,kBAAC,EAAD,CAAKC,UAAU,QAAQ/C,IAAKF,KAAK4B,MAAM1B,IAAKC,KAAMH,KAAK4B,MAAMzB,YAjFvE,GAAyBuB,cCFzBwB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,Y","file":"static/js/main.57aa9e3c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Leaf from \"leaflet\";\r\nimport \"../styles/Map.css\";\r\n\r\nexport class Map extends Component {\r\n  componentDidMount() {\r\n    let map = Leaf.map(\"map\", {\r\n      center: [this.props.lat, this.props.long],\r\n      zoom: 3\r\n    });\r\n\r\n    Leaf.tileLayer(\r\n      \"https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibGVuaGF0dGVyIiwiYSI6ImNqemQ0MXN0eTAyeTkzZHF0N2hrYXJ0OXAifQ.B1CbsLP5XDiqxf76mLG0EA\",\r\n      {\r\n        maxZoom: 3,\r\n        minZoom: 3,\r\n        attribution:\r\n          'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, ' +\r\n          '<a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' +\r\n          'Imagery Â© <a href=\"http://mapbox.com\">Mapbox</a>',\r\n        id: \"mapbox.streets\"\r\n      }\r\n    ).addTo(map);\r\n\r\n    let iSS = Leaf.icon({\r\n      iconUrl:\r\n        \"https://upload.wikimedia.org/wikipedia/commons/d/d0/International_Space_Station.svg\",\r\n      iconSize: [100, 100]\r\n    });\r\n\r\n    let myISS = Leaf.marker([this.props.lat, this.props.long], {\r\n      icon: iSS\r\n    }).addTo(map);\r\n\r\n    setInterval(() => {\r\n      let latlng = Leaf.latLng(this.props.lat, this.props.long);\r\n      myISS.setLatLng(latlng);\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          id=\"map\"\r\n          style={{\r\n            height: \"50vh\",\r\n            width: \"50vw\",\r\n            minWidth: \"20rem\",\r\n            textAlign: \"center\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React, { Component } from \"react\";\r\nimport Map from \"./Map\";\r\nimport \"../styles/App.css\";\r\n\r\n// Style the app actually\r\n\r\nexport class App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleIss = this.handleIss.bind(this);\r\n    this.handleCountry = this.handleCountry.bind(this);\r\n  }\r\n\r\n  state = {\r\n    lat: null,\r\n    long: null,\r\n    velocity: null,\r\n    altitude: null,\r\n    country: null\r\n  };\r\n\r\n  async handleCountry() {\r\n    const getCountry = await fetch(\r\n      `https://eu1.locationiq.com/v1/reverse.php?key=8a059ce76eacaf&lat=${\r\n        this.state.lat\r\n      }&lon=${this.state.long}&addressdetails=1&format=json`\r\n    );\r\n\r\n    let countryData = await getCountry.json();\r\n\r\n    if (countryData.address !== undefined) {\r\n      this.setState({ country: countryData.address.country });\r\n    } else {\r\n      this.setState({ country: null });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.handleCountry();\r\n    }, 10000);\r\n  }\r\n\r\n  async handleIss() {\r\n    const response = await fetch(\r\n      \"https://api.wheretheiss.at/v1/satellites/25544\"\r\n    );\r\n    let data = await response.json();\r\n\r\n    this.setState({\r\n      lat: data.latitude,\r\n      long: data.longitude,\r\n      velocity: data.velocity.toFixed(2),\r\n      altitude: data.altitude.toFixed(2)\r\n      /* country: countryData.countryName */\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.handleIss();\r\n    }, 5000);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleIss();\r\n    this.handleCountry();\r\n  }\r\n\r\n  render() {\r\n    let countrycode = \"\";\r\n    if (this.state.country === null) {\r\n      countrycode = <p>The ISS is above ocean.</p>;\r\n    } else {\r\n      countrycode = <p>The ISS is above {this.state.country}.</p>;\r\n    }\r\n\r\n    if (this.state.lat === null || this.state.long === null) {\r\n      return <h1>Loading, please wait...</h1>;\r\n    } else {\r\n      return (\r\n        <div className=\"container\">\r\n          <h1>Current position of ISS (International Space Station)</h1>\r\n          <div className=\"details\">\r\n            <h2>ISS Details: </h2>\r\n            <p>Latitude: {this.state.lat} </p>\r\n            <p>Longitude: {this.state.long} </p>\r\n            <p>Altitude: {this.state.altitude} KM </p>\r\n            <p>Velocity: {this.state.velocity} KM/H </p>\r\n            {countrycode}\r\n          </div>\r\n          <Map className=\"myMap\" lat={this.state.lat} long={this.state.long} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./comps/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}